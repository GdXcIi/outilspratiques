<!DOCTYPE html>
<div class="tool-container" id="translateTool">
    <div class="tool-header">
        <h2><i class="fas fa-language"></i> Traducteur</h2>
        <div class="tool-actions">
            <button type="button" class="btn-icon" id="translateHelp" aria-label="Aide">
                <i class="fas fa-question-circle"></i>
            </button>
            <button type="button" class="btn-icon" id="translateFullscreen" aria-label="Plein écran">
                <i class="fas fa-expand"></i>
            </button>
        </div>
    </div>
    
    <div class="tool-content">
        <div class="translate-container">
            <div class="translate-options">
                <div class="language-selector">
                    <div class="source-language">
                        <select id="sourceLanguage" class="form-select">
                            <option value="auto">Détecter la langue</option>
                            <option value="fr">Français</option>
                            <option value="en">Anglais</option>
                            <option value="es">Espagnol</option>
                            <option value="de">Allemand</option>
                            <option value="it">Italien</option>
                            <option value="pt">Portugais</option>
                            <option value="nl">Néerlandais</option>
                            <option value="ru">Russe</option>
                            <option value="zh">Chinois</option>
                            <option value="ja">Japonais</option>
                            <option value="ko">Coréen</option>
                            <option value="ar">Arabe</option>
                        </select>
                    </div>
                    
                    <button type="button" class="btn-icon" id="swapLanguages" aria-label="Inverser les langues">
                        <i class="fas fa-exchange-alt"></i>
                    </button>
                    
                    <div class="target-language">
                        <select id="targetLanguage" class="form-select">
                            <option value="fr">Français</option>
                            <option value="en" selected>Anglais</option>
                            <option value="es">Espagnol</option>
                            <option value="de">Allemand</option>
                            <option value="it">Italien</option>
                            <option value="pt">Portugais</option>
                            <option value="nl">Néerlandais</option>
                            <option value="ru">Russe</option>
                            <option value="zh">Chinois</option>
                            <option value="ja">Japonais</option>
                            <option value="ko">Coréen</option>
                            <option value="ar">Arabe</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="translate-text-container">
                <div class="source-text-container">
                    <div class="text-actions">
                        <span class="detected-language" id="detectedLanguage"></span>
                        <div class="text-buttons">
                            <button type="button" class="btn-icon" id="clearSourceText" aria-label="Effacer">
                                <i class="fas fa-times"></i>
                            </button>
                            <button type="button" class="btn-icon" id="copySourceText" aria-label="Copier">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button type="button" class="btn-icon" id="pasteSourceText" aria-label="Coller">
                                <i class="fas fa-paste"></i>
                            </button>
                            <button type="button" class="btn-icon" id="listenSourceText" aria-label="Écouter">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                    <textarea id="sourceText" class="form-textarea" placeholder="Saisissez ou collez le texte à traduire..."></textarea>
                    <div class="character-count">
                        <span id="sourceCharCount">0</span> caractères
                    </div>
                </div>
                
                <div class="target-text-container">
                    <div class="text-actions">
                        <div class="translation-status" id="translationStatus">
                            <i class="fas fa-spinner fa-spin" id="translationSpinner" style="display: none;"></i>
                        </div>
                        <div class="text-buttons">
                            <button type="button" class="btn-icon" id="copyTargetText" aria-label="Copier">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button type="button" class="btn-icon" id="listenTargetText" aria-label="Écouter">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button type="button" class="btn-icon" id="fullscreenTargetText" aria-label="Plein écran">
                                <i class="fas fa-expand-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div id="targetText" class="target-text" contenteditable="true"></div>
                    <div class="character-count">
                        <span id="targetCharCount">0</span> caractères
                    </div>
                </div>
            </div>
            
            <div class="translate-controls">
                <div class="translate-actions">
                    <button type="button" class="btn btn-primary" id="translateButton">
                        <i class="fas fa-language"></i> Traduire
                    </button>
                    
                    <div class="translate-options-toggle">
                        <button type="button" class="btn" id="translateOptionsToggle">
                            <i class="fas fa-cog"></i> Options
                        </button>
                    </div>
                </div>
                
                <div class="advanced-options" id="advancedOptions" style="display: none;">
                    <div class="form-group">
                        <label class="checkbox-container">
                            <input type="checkbox" id="autoTranslate" class="checkbox-input">
                            <span class="checkbox-label">Traduction automatique</span>
                        </label>
                        <p class="option-description">Traduit automatiquement pendant la saisie</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="translationMode">Mode de traduction</label>
                        <select id="translationMode" class="form-select">
                            <option value="standard" selected>Standard</option>
                            <option value="formal">Formel</option>
                            <option value="informal">Informel</option>
                            <option value="technical">Technique</option>
                            <option value="literary">Littéraire</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-container">
                            <input type="checkbox" id="keepFormatting" class="checkbox-input" checked>
                            <span class="checkbox-label">Conserver la mise en forme</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="apiSelection">Service de traduction</label>
                        <select id="apiSelection" class="form-select">
                            <option value="libre" selected>Service local (hors ligne)</option>
                            <option value="google">Google Translate (API)</option>
                            <option value="deepl">DeepL (API)</option>
                        </select>
                        <p class="option-description">Les services en ligne nécessitent une clé API</p>
                    </div>
                    
                    <div class="api-key-container" id="apiKeyContainer" style="display: none;">
                        <div class="form-group">
                            <label for="apiKey">Clé API</label>
                            <div class="api-key-input">
                                <input type="password" id="apiKey" class="form-input" placeholder="Entrez votre clé API">
                                <button type="button" class="btn-toggle-password" id="toggleApiKey">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="btn" id="saveApiKey">Enregistrer</button>
                    </div>
                </div>
            </div>
            
            <div class="translation-history">
                <div class="history-header">
                    <h3>Historique</h3>
                    <button type="button" class="btn-icon" id="clearHistory" aria-label="Effacer l'historique">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
                <div class="history-items" id="historyItems">
                    <!-- L'historique des traductions sera affiché ici -->
                    <div class="empty-history">Aucune traduction récente</div>
                </div>
            </div>
            
            <div class="translation-alternatives" id="translationAlternatives" style="display: none;">
                <h3>Traductions alternatives</h3>
                <div class="alternatives-list" id="alternativesList">
                    <!-- Les alternatives de traduction seront affichées ici -->
                </div>
            </div>
        </div>
    </div>
    
    <div class="help-panel" id="translateHelpPanel">
        <div class="help-panel-header">
            <h3>Aide - Traducteur</h3>
            <button type="button" class="btn-icon" id="closeTranslateHelp">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="help-panel-content">
            <h4>Comment utiliser</h4>
            <ol>
                <li>Sélectionnez la langue source (ou laissez la détection automatique)</li>
                <li>Sélectionnez la langue cible</li>
                <li>Saisissez ou collez le texte à traduire</li>
                <li>Cliquez sur "Traduire" (ou activez la traduction automatique)</li>
                <li>Le résultat apparaîtra dans la zone de droite</li>
            </ol>
            
            <h4>Fonctionnalités</h4>
            <ul>
                <li><strong>Détection de langue</strong> : identifie automatiquement la langue du texte source</li>
                <li><strong>Traduction automatique</strong> : traduit le texte pendant que vous tapez</li>
                <li><strong>Synthèse vocale</strong> : écoutez le texte source ou traduit</li>
                <li><strong>Historique</strong> : accédez à vos traductions récentes</li>
                <li><strong>Options avancées</strong> : personnalisez le mode de traduction et le service utilisé</li>
            </ul>
            
            <h4>Modes de traduction</h4>
            <ul>
                <li><strong>Standard</strong> : traduction générale pour un usage quotidien</li>
                <li><strong>Formel</strong> : adapté pour les documents professionnels et officiels</li>
                <li><strong>Informel</strong> : style conversationnel pour les messages et discussions</li>
                <li><strong>Technique</strong> : optimisé pour les textes scientifiques et techniques</li>
                <li><strong>Littéraire</strong> : préserve le style et les nuances des textes créatifs</li>
            </ul>
            
            <h4>Services de traduction</h4>
            <p>Par défaut, l'outil utilise un service de traduction local qui fonctionne sans connexion Internet. Pour des traductions plus précises, vous pouvez utiliser les services Google Translate ou DeepL en fournissant votre propre clé API.</p>
            
            <h4>Confidentialité</h4>
            <p>Si vous utilisez le service local, vos textes ne quittent jamais votre ordinateur. Les clés API des services externes sont stockées uniquement sur votre appareil.</p>
        </div>
    </div>
</div> 