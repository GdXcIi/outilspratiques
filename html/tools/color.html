<!DOCTYPE html>
<div class="tool-container" id="colorTool">
    <div class="tool-header">
        <h2><i class="fas fa-palette"></i> Sélecteur de couleur</h2>
        <div class="tool-actions">
            <button type="button" class="btn-icon" id="colorHelp" aria-label="Aide">
                <i class="fas fa-question-circle"></i>
            </button>
            <button type="button" class="btn-icon fullscreen-btn" id="colorFullscreenBtn" aria-label="Plein écran">
                <i class="fas fa-expand"></i>
            </button>
        </div>
    </div>
    
    <div class="tool-content">
        <div class="color-horizontal-layout">
            <div class="color-main-panel">
                <div class="color-preview-container">
                    <div class="color-preview-fav-wrapper">
                        <input type="color" name="colorThumb" id="colorThumb" value="#0066CC">
                        <button type="button" class="btn-fav" id="favoriteBtn" aria-label="Ajouter/Retirer des favoris">
                            <i class="far fa-star" id="favoriteIcon"></i>
                        </button>
                    </div>
                    <div class="color-values">
                        <div class="color-value-group">
                            <label for="hexValue">HEX</label>
                            <div class="color-value-input">
                                <input type="text" id="hexValue" class="color-input" maxlength="7" value="#0066CC">
                                <button type="button" class="btn-copy" data-value="hex" aria-label="Copier">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="color-value-group">
                            <label for="rgbValue">RGB</label>
                            <div class="color-value-input">
                                <input type="text" id="rgbValue" class="color-input" value="rgb(0, 102, 204)">
                                <button type="button" class="btn-copy" data-value="rgb" aria-label="Copier">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="color-value-group">
                            <label for="hslValue">HSL</label>
                            <div class="color-value-input">
                                <input type="text" id="hslValue" class="color-input" value="hsl(210, 100%, 40%)">
                                <button type="button" class="btn-copy" data-value="hsl" aria-label="Copier">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="color-value-group">
                            <label for="cmykValue">CMYK</label>
                            <div class="color-value-input">
                                <input type="text" id="cmykValue" class="color-input" value="cmyk(100%, 50%, 0%, 20%)">
                                <button type="button" class="btn-copy" data-value="cmyk" aria-label="Copier">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button type="button" class="tab-button active" data-tab="palettesTab">Palettes</button>
                        <button type="button" class="tab-button" data-tab="harmoniesTab">Harmonies</button>
                        <button type="button" class="tab-button" data-tab="adjustmentTab">Ajustement</button>
                        <button type="button" class="tab-button" data-tab="accessibilityTab">Accessibilité</button>
                    </div>
                    
                    <div class="tab-panes">
                        <!-- Onglet Palettes -->
                        <div id="palettesTab" class="tab-pane active">
                            <div class="color-canvas-wrapper">
                                <div class="color-canvas" id="colorCanvas">
                                    <!-- Zone de sélection de couleur sera ajoutée par JS -->
                                </div>
                            </div>
                            
                            <div id="namedColors" class="named-colors">
                                <!-- Couleurs nommées seront ajoutées par JS -->
                            </div>
                        </div>
                        
                        <!-- Onglet Harmonies -->
                        <div id="harmoniesTab" class="tab-pane">
                            <div id="harmonySamples" class="harmony-samples">
                                <!-- Harmonies de couleurs seront ajoutées par JS -->
                            </div>
                            
                            <div id="gradientSamples" class="gradient-samples">
                                <!-- Dégradés seront ajoutés par JS -->
                            </div>
                        </div>
                        
                        <!-- Onglet Ajustement -->
                        <div id="adjustmentTab" class="tab-pane">
                            <div class="color-adjustments">
                                <div class="adjustment-group">
                                    <label for="hueAdjust">
                                        Teinte <span id="hueAdjustValue">210°</span>
                                    </label>
                                    <input type="range" id="hueAdjust" min="0" max="360" value="210">
                                </div>
                                
                                <div class="adjustment-group">
                                    <label for="satAdjust">
                                        Saturation <span id="satAdjustValue">100%</span>
                                    </label>
                                    <input type="range" id="satAdjust" min="0" max="100" value="100">
                                </div>
                                
                                <div class="adjustment-group">
                                    <label for="lightAdjust">
                                        Luminosité <span id="lightAdjustValue">40%</span>
                                    </label>
                                    <input type="range" id="lightAdjust" min="0" max="100" value="40">
                                </div>
                                
                                <div class="adjustment-group">
                                    <label for="tempAdjust">
                                        Température <span id="tempAdjustValue">0</span>
                                    </label>
                                    <input type="range" id="tempAdjust" min="-30" max="30" value="0">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Onglet Accessibilité -->
                        <div id="accessibilityTab" class="tab-pane">
                            <div id="contrastSamples" class="contrast-samples">
                                <!-- Exemples de contraste seront ajoutés par JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="color-sidebar">
                <div class="color-history">
                    <h3>Historique</h3>
                    <div class="history-colors" id="colorHistory">
                        <!-- Historique des couleurs sera ajouté par JS -->
                    </div>
                    <button type="button" class="btn btn-outline" id="clearHistory" onclick="clearColorHistory()">
                        <i class="fas fa-trash-alt"></i> Effacer l'historique
                    </button>
                </div>
                
                <div class="color-favorites">
                    <h3>Favoris</h3>
                    <div class="favorites-colors" id="colorFavorites">
                        <!-- Favoris seront ajoutés par JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="help-panel" id="colorHelpPanel">
        <div class="help-panel-header">
            <h3>Aide - Sélecteur de couleur</h3>
            <button type="button" class="btn-icon" id="closeColorHelp">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="help-panel-content">
            <h4>Comment utiliser</h4>
            <ol>
                <li>Cliquez sur le cercle de couleur en haut pour ouvrir le sélecteur de couleur natif</li>
                <li>Utilisez les onglets pour explorer les palettes, harmonies, ajustements et test d'accessibilité</li>
                <li>Modifiez directement les valeurs HEX, RGB, HSL ou CMYK dans les champs correspondants</li>
                <li>Ajoutez des couleurs aux favoris avec l'icône d'étoile pour y accéder rapidement</li>
                <li>L'historique conserve automatiquement les dernières couleurs utilisées</li>
            </ol>
            
            <h4>Fonctionnalités</h4>
            <ul>
                <li><strong>Palettes</strong> : Sélectionnez visuellement une couleur ou utilisez une couleur nommée</li>
                <li><strong>Harmonies</strong> : Découvrez des combinaisons de couleurs harmonieuses et dégradés prêts à l'emploi</li>
                <li><strong>Ajustement</strong> : Ajustez précisément la teinte, saturation, luminosité et température</li>
                <li><strong>Accessibilité</strong> : Vérifiez le contraste pour garantir la lisibilité suivant les normes WCAG</li>
                <li><strong>Copie</strong> : Copiez facilement une valeur de couleur dans différents formats avec les boutons dédiés</li>
            </ul>
            
            <h4>Astuces</h4>
            <ul>
                <li>Cliquez sur une couleur dans l'historique pour la réutiliser</li>
                <li>Pour une interface accessible, visez un ratio de contraste d'au moins 4.5:1 (AA)</li>
                <li>Utilisez le mode plein écran pour une surface de travail plus grande</li>
                <li>Double-cliquez dans un champ de texte pour sélectionner toute la valeur</li>
                <li>Appuyez sur Entrée après avoir édité une valeur pour appliquer le changement</li>
            </ul>
        </div>
    </div>
    
    <!-- Notification de copie qui apparaîtra lors de la copie -->
    <div class="copy-notification"></div>





<script>
// S'assurer que le module de plein écran est chargé
(function() {
    function initFullscreen() {
        if (!window.fullscreenManager) {
            import('../../js/fullscreen.js')
            .then(() => {
                if (!window.fullscreenManager && typeof FullscreenManager !== 'undefined') {
                    window.fullscreenManager = new FullscreenManager();
                }
            })
            .catch(error => {
                console.error('Erreur chargement fullscreen.js:', error);
            });
        } else {
            window.fullscreenManager.initFullscreenButtons();
        }
    }
    
    // Exécuter immédiatement si le DOM est déjà chargé, sinon attendre l'événement
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFullscreen);
    } else {
        initFullscreen();
    }
})();
</script></div> 